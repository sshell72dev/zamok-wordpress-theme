# Инструкция по автоматическому созданию страниц и записей

## Автоматическое создание при активации темы

При активации темы автоматически создаются:

### Страницы:
- **Главная** - главная страница сайта (устанавливается как главная)
- **Контакты** - страница контактов
- **Вскрытие автомобилей** - страница услуги
- **Вскрытие двери квартиры** - страница услуги
- **Вскрытие сейфов** - страница услуги
- **Вскрытие гаражей** - страница услуги

### Записи:
- **Услуги** (3 записи):
  - Вскрытие автомобилей
  - Вскрытие квартир и домов
  - Вскрытие сейфов

- **Отзывы** (3 записи):
  - Елена (Mercedes, 2 минуты)
  - Александр (BMW, 5 минут)
  - Мария (15 минут)

- **Статьи** (3 записи):
  - Почему нельзя взламывать замок от двери?
  - Какие секретки выбрать?
  - Как открыть мерседес w210 без ключа?

### Категории статей:
- Вскрытие замков
- Безопасность жилища
- Все о сейфах
- Безопасность автомобиля
- Техпомощь

## Ручной запуск создания страниц

Если тема уже была активирована ранее, или нужно пересоздать страницы:

1. Перейдите в **Инструменты → Создать страницы Zamok01**
2. Нажмите на ссылку
3. Страницы и записи будут созданы/обновлены

## Что заполняется автоматически

### ACF поля главной страницы:
- Главный заголовок
- Основные услуги с тегами
- Цены
- Информационный текст
- Преимущества
- FAQ элементы
- Заголовки секций

### ACF поля страницы контактов:
- Заголовок
- Описание
- Контакты (телефоны, адреса, почта)

### ACF поля страниц услуг:
- Информационные блоки
- Содержание статьи
- Блок действия
- Блок "О нас"
- Преимущества

### ACF поля отзывов:
- Марка автомобиля
- Время вскрытия

### ACF поля услуг:
- Описание услуги
- Цена

### ACF поля статей:
- Описание статьи
- Категория

### Глобальные настройки (Options):
- Телефоны
- Email
- Социальные сети
- Информация в футере
- Марки автомобилей
- Время вскрытия
- Заголовки архивов

## Важные замечания

1. **Функция запускается только один раз** при активации темы (если не использовать принудительный запуск)
2. **Существующие страницы не удаляются** - функция проверяет наличие страниц и не создает дубликаты
3. **ACF поля обновляются** при каждом запуске функции
4. **Для принудительного пересоздания** используйте пункт меню "Создать страницы Zamok01"

## Проверка после создания

После создания страниц проверьте:

1. **Главная страница**:
   - Откройте главную страницу сайта
   - Проверьте наличие всех блоков
   - Проверьте ACF поля в редакторе

2. **Страницы услуг**:
   - Откройте страницы услуг
   - Проверьте правильность шаблона
   - Проверьте заполнение ACF полей

3. **Архивы**:
   - Проверьте архив отзывов: `/otzyvy`
   - Проверьте архив статей: `/stati`

4. **Настройки сайта**:
   - Перейдите в **Настройки сайта**
   - Проверьте заполнение всех полей

## Решение проблем

### Страницы не создаются
- Проверьте права пользователя (нужны права администратора)
- Проверьте, не заблокирована ли функция через опцию `zamok01_theme_activated`
- Используйте ручной запуск через админ-панель

### ACF поля не заполняются
- Убедитесь, что плагин ACF установлен и активирован
- Проверьте, что ACF поля импортированы из JSON файлов
- Проверьте правильность ключей полей в функции

### Дубликаты страниц
- Функция проверяет наличие страниц по заголовку
- Если создались дубликаты, удалите их вручную
- Перезапустите функцию создания страниц

## Отключение автоматического создания

Если нужно отключить автоматическое создание при активации темы, закомментируйте строку:

```php
add_action('after_switch_theme', 'zamok01_theme_activation');
```

в файле `functions.php`.


